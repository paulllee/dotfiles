#!/usr/bin/env bash

# [l]anguage [s]erver [p]rotocol

function pip_me() {
  micromamba run -n lsp pip install "$@"
}

function npm_me() {
  npm install -g "$@"
}

# auto-installed
# - lua
# - rust

# (re-)create contained lsp environment JUST for ruff
yes | micromamba create -n lsp python=3.12

# python
pip_me ruff
pip_me ruff-lsp
npm_me pyright

# bash
npm_me bash-language-server

# html/css/json
npm_me vscode-langservers-extracted

# js/ts/tsx
npm_me typescript typescript-language-server
