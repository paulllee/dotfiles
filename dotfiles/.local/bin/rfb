#!/usr/bin/env bash

# r(ipgrep)-f(zf)-b(at centered)
# utilizing fzf and batc for a better ripgrep experience

set -e

MATCH="$(rg --line-number \
  --smart-case \
  --hidden \
  --glob="!.git" \
  . "${1:-.}" | fzf --delimiter=: --preview "batc {1} {2}")"

FILEPATH="$(printf "$MATCH" | cut -d : -f 1)"
LINENUM="$(printf "$MATCH" | cut -d : -f 2)"

printf "$FILEPATH:$LINENUM\n"
